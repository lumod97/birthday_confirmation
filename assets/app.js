const fileInput=document.getElementById("foto");const preview=document.getElementById("preview");const form=document.getElementById("rsvp-form");const submitBtn=document.getElementById("submit");function clearPreview(){preview.innerHTML="";const m=document.querySelector(".file-msg");if(m)m.remove()}function showMsg(t,cls){const p=document.createElement("p");p.textContent=t;p.className=cls+" file-msg";preview.after(p)}fileInput.addEventListener("change",()=>{clearPreview();const f=fileInput.files&&fileInput.files[0];if(!f)return;const max=3*1024*1024;if(f.size>max){fileInput.value="";showMsg("La foto supera 3 MB, elige una más pequeña.","error");return}const url=URL.createObjectURL(f);const img=document.createElement("img");img.src=url;img.alt="Vista previa";preview.appendChild(img)});form.addEventListener("submit",(e)=>{submitBtn.disabled=true;setTimeout(()=>{submitBtn.disabled=false},6000)});const badge=document.getElementById("badge-float");if(badge){badge.onerror=()=>{badge.style.display="none"}}
